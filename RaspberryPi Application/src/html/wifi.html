<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>WiFi Management</title>
            <!-- Bootstrap CSS -->
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
            <style>
                body {
                    padding-top: 50px;
                }
                .network-item {
                    margin-bottom: 1rem;
                    padding: 1rem;
                    border: 1px solid #ddd;
                    border-radius: 8px;
                    cursor: pointer;
                    transition: all 0.3s ease;
                }
                .network-item:hover {
                    background-color: #f8f9fa;
                    border-color: #007bff;
                }
            </style>
        </head>
        <body>
            <div class="container">
                <h1 class="text-center mb-4">WiFi Management</h1>
                <div class="d-flex justify-content-between mb-4">
                    <h2>Available Networks</h2>
                    <button class="btn btn-primary" onclick="scanWiFi()">Scan Networks</button>
                </div>
                <div id="wifi-list" class="row"></div>
                <hr>
                <h2>Connect to a Network</h2>
                <form id="connect-form" class="mt-3">
                    <div class="mb-3">
                        <label for="ssid" class="form-label">SSID:</label>
                        <input type="text" class="form-control" id="ssid" required>
                    </div>
                    <div class="mb-3">
                        <label for="password" class="form-label">Password:</label>
                        <input type="password" class="form-control" id="password">
                    </div>
                    <button type="button" class="btn btn-success" onclick="connectWiFi()">Connect</button>
                </form>
            </div>
        
            <!-- Bootstrap JS -->
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
            <script>
                function scanWiFi() {
                    fetch('/wifi/scan')
                        .then(response => response.json())
                        .then(data => {
                            const wifiList = document.getElementById('wifi-list');
                            wifiList.innerHTML = '';
                            
                            if (data.networks && data.networks.length > 0) {
                                data.networks.forEach(network => {
                                    const networkHTML = `
                                        <div class="col-md-4">
                                            <div class="network-item" onclick="selectNetwork('${network.SSID}')">
                                                <h5>${network.SSID || "Hidden"}</h5>
                                                <p><strong>Signal:</strong> ${network.Signal}%</p>
                                                <p><strong>Bars:</strong> ${network.Bars}</p>
                                            </div>
                                        </div>
                                    `;
                                    wifiList.innerHTML += networkHTML;
                                });
                            } else {
                                wifiList.innerHTML = '<p class="text-muted">No networks found.</p>';
                            }
                        })
                        .catch(error => {
                            console.error('Error scanning WiFi:', error);
                            alert('Error scanning WiFi. Check the console for more details.');
                        });
                }
        
                function selectNetwork(ssid) {
                    document.getElementById('ssid').value = ssid;
                }
        
                function connectWiFi() {
                    const ssid = document.getElementById('ssid').value;
                    const password = document.getElementById('password').value;
                    fetch('/wifi/connect', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ ssid, password })
                    }).then(response => response.json())
                      .then(data => {
                          alert(data.message || data.error);
                      })
                      .catch(error => {
                          console.error('Error connecting to WiFi:', error);
                          alert('Error connecting to WiFi. Check the console for more details.');
                      });
                }
            </script>
        </body>
        </html>